# 事务

## 事务概念

### 事务

事务是数据库操作最基本单元，逻辑上的一组操作。要么都成功，如果有一个失败所有操作都失败。

典型场景：银行转账。



### 事务的四大特性

1. 原子性：一个事务是一个不可分割的工作单位，事务中包括的操作要么都做，要么都不做。
2. 一致性：事务必须是使数据库从一个一致性状态变到另一个一致性状态。一致性与原子性是密切相关的。
3. 隔离性：一个事务的执行不能被其他事务干扰。即一个事务内部的操作及使用的数据对并发的其他事务是隔离的，并发执行的各个事务之间不能互相干扰。
4. 持久性：持久性也称永久性，指一个事务一旦提交，它对数据库中数据的改变就应该是永久性的。接下来的其他操作或故障不应该对其有任何影响。



### 搭建事务操作环境

1. 创建数据库表，添加记录
2. 创建service、dao，完成对象创建和注入操作
   1. service中注入dao；dao中注入JdbcTemplate；JdbcTemplate中注入DataSource
3. 在dao中创建两个方法：多钱和少钱的方法，在service中创建转账的方法
4. 爱爱























































